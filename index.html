<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Улучшаем аутентификацию</title>
  <meta
    name="description"
    content="Аутентификация это боль многих бизнесов. В процессе регистрации и логина теряется значительный процент потенциальных клиентов. Давайте подумаем, как мы можем сделать этот процесс менее болезненным, чтобы уменьшить этот процент.">

  <link rel="preload" href="fonts/FiraCode-VariableFont_wght.ttf" as="font" type="font/ttf" crossorigin>
  <link rel="preload" href="fonts/Inter-VariableFont_slnt,wght.ttf" as="font" type="font/ttf" crossorigin>

  <link rel="preload" as="style" href="styles/reset.css">
  <link rel="preload" as="style" href="styles/fonts.css">
  <link rel="preload" as="style" href="styles/SlideController.css">
  <link rel="preload" as="style" href="styles/variables.css">
  <link rel="preload" as="style" href="styles/slide.css">
  <link rel="preload" as="style" href="styles/progress.css">

  <link rel="modulepreload" href="javascript/SlideController.mjs">
  <link rel="modulepreload" href="javascript/Keys.mjs">
  <link rel="modulepreload" href="javascript/Selectors.mjs">

  <link rel="modulepreload" href="javascript/components/Timer/Timer.mjs">

  <link rel="stylesheet" href="styles/SlideController.css">
</head>
<body>
  <main>
    <ol class="slides">

      <li class="slide">
        <figure class="content illustration illustration--cover">
          <figcaption class="caption"><span>
            Усовершенствуем процесс аутентификации.
            Прошлая компания, в которой я работал: Werkspot.
            Она помогает людям, которым нужно сделать ремонт найти специалистов.
          </span></figcaption>
        </figure>
      </li>


      <li class="slide">
        <figure class="content centred sub-title sub-title-1">
          <div>
            <h2>Проблема</h2>
          </div>
          <figcaption class="caption"><span>
            Когда я исследовал наш основной сценарий, то обнаружил, что четверть пользователей
            теряется на шаге авторизации и увидел в этом возможность улучшить конверсию</span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred illustration illustration--problem">
        <figcaption class="caption"><span>
          Конкретно этот график построен на базе отзывов пользователей,
          которые мы собираем когда пользователь пытается покинуть сценарий
         </span></figcaption>
      </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>Почему?</h3>
            <ul>
              <li>Недостаток доверия</li>
              <li>Недостаток информации</li>
              <li>Слишком сложно</li>
            </ul>
          </div>
          <figcaption class="caption"><span>
            Почему пользователи не хотят делиться своими приватными данными?
            Причин может быть множество, среди них:
              не достаток доверия,
              информации
              или это может быть слишком сложно сделать.
            </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred advice">
          <div>
            <h3>Доверие</h3>
            <p>Пользователь должен быть уверен, что вашим сервисом пользоваться безопасно</p>
          </div>
          <figcaption class="caption"><span>Пользователь должен быть уверен, что вашим сервисом пользоваться безопасно.</span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split">
          <div class="half vh screenshot screenshot--report"></div>
          <div class="half vh centred screenshot">
            <img src="images/lastpass.svg" alt="LastPass">
          </div>
          <figcaption class="caption"><span>
            В своём отчете LastPass указала, что каждый пароль
            в среднем переиспользуется тринадцать раз. Вводя свой пароль
            пользователь выказывает вам значительное доверие
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred advice">
          <div>
            <h3>Доверие</h3>
            <p>Показывайте рейтинги и ревью, будьте легко доступны в медиа и оперативно реагируйте на сообщения пользователей, используйте микроформаты.</p>
          </div>
          <figcaption class="caption"><span>Показывайте рейтинги и ревью, будьте легко доступны в медиа и оперативно реагируйте на сообщения пользователей, используйте микроформаты.</span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--rating">
          <figcaption class="caption"><span>
            К моему удивлению я обнаружил, что это работает.
            После появления виджетов в поисковой выдаче больше пользователей стали завершать регистрацию.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred advice">
          <div>
            <h3>Прозрачность</h3>
            <p>Объясните, зачем вам нужна та или иная информация и как вы планируете её использовать.</p>
          </div>
          <figcaption class="caption"><span>Прозрачность: Объясните, зачем вам нужна та или иная информация и как вы планируете её использовать.</span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--transparency">
          <figcaption class="caption"><span>
            Мы добавили текст, который уточняет,
            что мы не передаем специалисту
            контактные данные пользователя,
            пока пользователь сам с ним не свяжеться
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred advice">
          <div>
            <h3>Простота</h3>
            <p>Не запрашивайте данные до того момента, пока они вам действительно не понадобятся</p>
          </div>
          <figcaption class="caption"><span>
            Например, в одном из наших эксперементов,
            мы решили не запрашивать номер телефона пользователя
            до тех пор, пока его не нужно отправлять исполнителю.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred sub-title sub-title-2">
          <div>
            <h2>HTML</h2>
          </div>
          <figcaption class="caption"><span>
            Так как я верю в прогрессивное улучшение,
            давайте сначала обсудим что мы можем сделать с помощью HTML
            а уже потом — как это можно улучшить
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred sub-title sub-title-3">
          <div>
            <h2>Формы</h2>
          </div>
          <figcaption class="caption"><span>И начнем мы с форм.</span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>Какие формы?</h3>
            <ul>
              <li>Регистрации</li>
              <li>Логин</li>
              <li>Восстановление пароля</li>
            </ul>
          </div>
          <figcaption class="caption"><span>
            Каких форм?
            Если мы говорим об аутентификации, то осноыными связанными с ней формами будут форма Регистрации,
            Логина и Восстановления пароля
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content illustration illustration--robot">
          <h2 class="cloud"><b>Семантика! <br> БИ! </b></h2>
          <figcaption class="caption"><span>И что же нам поможет сделать формы лучше? Семантика!</span></figcaption>
        </figure>
      </li>
<!--
      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="36"><code class="language-html">&lt;form method=&quot;post&quot; action=&quot;&#x2F;sign-up&#x2F;&quot;&gt;
&lt;&#x2F;form&gt;</code></pre>
          <figcaption class="caption"><span>
            Используйте формы, даже, если вы отправляете данные с помощью JavaScript!
            Даже если вы не планируете фолбек к серве-сайду.
            Благодаря этому проще понять, что тут вообще происходит.
            Кроме того можно получить все данные формы с помощью FormData.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="36"><code class="language-html">&lt;form method=&quot;post&quot; action=&quot;&#x2F;sign-up&#x2F;&quot;&gt;
  &lt;button type=&quot;submit&quot;&gt;
    Рагистрация
  &lt;&#x2F;button&gt;
&lt;&#x2F;form&gt;</code></pre>
          <figcaption class="caption"><span>
            Не забывайте, что когда вы нажимаете enter в одном из полей формы то, де-факто,
            нажимаете на первую дочернюю кнопку отправки формы.
            Это играет роль, когда у вас больше чем одна такая кнопка внутри формы.
            Особенно, если используется formaction.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
            <pre data-code="45"><code class="language-html">&lt;fieldset&gt;
  &lt;legend&gt;Рагистрация&lt;&#x2F;legend&gt;
  &lt;!-- Поля ввода --&gt;
&lt;&#x2F;fieldset&gt;</code></pre>
          <figcaption class="caption"><span>
            Помните о том, что есть Fieldset и legend.
            Раньше были проблемы со стилизацией legend, но эти времена давно прошли.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
            <pre data-code="36"><code class="language-html">&lt;label&gt;
  Email
  &lt;small&gt;Мы не будем спамить&lt;&#x2F;small&gt;
  &lt;input
    value=&quot;&quot;
    name=&quot;email&quot;
    type=&quot;email&quot;
    placeholder=&quot;email@gmail.com&quot;&gt;
&lt;&#x2F;label&gt;</code></pre>
          <figcaption class="caption"><span>Не забывайте использовать label и используйте подходящий тип поля ввода</span></figcaption>
        </figure>
      </li> -->

      <li class="slide">
        <figure class="content centred sub-title sub-title-4">
          <div>
            <h2>Атрибуты</h2>
          </div>
          <figcaption class="caption"><span>Что ещё следует иметь ввиду? Атрибуты!</span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
            <pre data-code="67"><code>autocorrect="off"
spellcheck="false"
autocapitalize="none"</code></pre>
          <figcaption class="caption"><span>
            Например вот эти вот позволят отключить атокорекцию, автокапитализацию и проверку правописания.
            Вряд ли вы хотите что бы они применялись к адресу электро-почты?
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>Какие ещё атрибуты могут быть полезны?</h3>
            <ul>
              <li>inputmode</li>
              <li>autocomplete</li>
            </ul>
          </div>
          <figcaption class="caption"><span>
            Кроме этого стоит обратить внимание на inputmode и autocomplete.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>inputmode</h3>
            <div class="split">
              <ul class="half">
                <li>none</li>
                <li>text</li>
                <li>tel</li>
                <li>url</li>
              </ul>
              <ul class="half">
                <li>email</li>
                <li>numeric</li>
                <li>decimal</li>
                <li>search</li>
              </ul>
            </div>
          </div>
          <figcaption class="caption"><span>
            inputmode определяет то, как выглядит виртуальная клавиатура для поля ввода
          </span></figcaption>
        </figure>
      </li>


      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>autocomplete</h3>
            <ul>
              <li>username</li>
              <li>new-password</li>
              <li>current-password</li>
              <li>one-time-code</li>
              <li>…</li>
            </ul>
          </div>
          <figcaption class="caption"><span>
            autocomplete подсказывает браузеру какие именно варианты выводить для автозаполнения
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content code-titled centred no-padding">
          <h3>Электронная почта</h3>
          <pre data-code="67"><code class="language-html">inputmode=&quot;email&quot;
autocomplete=&quot;email&quot;</code></pre>
          <figcaption class="caption"><span>
            К примеру для поля электронной почты оба атрибута должны иметь значение email
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split">
          <div class="third vh screenshot screenshot--email"></div>
          <div class="third vh screenshot screenshot--email-android"></div>
          <div class="third vh screenshot screenshot--email-android-2"></div>
          <figcaption class="caption"><span>
            На iPhone вы получите варианты заполнения над клавиатурой и клавиатуру, которая оптимизирована для введения адреса электронной почты.
            Android сначала предложит заполнить всю форму разом, а только потом — выбрать конкретный адрес.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--email-desktop">
          <figcaption class="caption"><span>Думаю все видели то, как это выглядит на десктопе</span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding code-titled">
          <h3>Пароль при регистрации</h3><h3>или восстановлении</h3>
          <pre data-code="50"><code class="language-bash">autocomplete=&quot;new-password&quot;</code></pre>
          <figcaption class="caption"><span>
            Ещё один полезный для формы регистрации атрибут это autocomplete new-password.
            Его имеет смысл использовать в форме регистрации, когда пароль вводится в первый раз.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split steps">
          <div class="third screenshot screenshot--new-password-1"></div>
          <div class="third screenshot screenshot--new-password-2"></div>
          <div class="third screenshot screenshot--new-password-save"></div>
          <figcaption class="caption"><span>
            На iOS Safari для new-password покажет опцию Suggest New Password,
            которая сгенерирует сильный пароль, спросит можно ли ей его использовать
            и предложит его сохранить.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split steps">
          <div class="third screenshot screenshot--new-password-android-1"></div>
          <div class="third screenshot screenshot--new-password-android-2"></div>
          <div class="third screenshot screenshot--new-password-android-save"></div>
          <figcaption class="caption"><span>
            Android поведет себя так же, за исключением того,
            что сохранит пароль без дополнительного разрешения.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--new-password-desktop">
          <figcaption class="caption"><span>
            На десктопе всё работает аналогичным образом.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding code-titled">
          <h3>Пароль при</h3><h3>аутентификации</h3>
          <pre data-code="42"><code class="language-html">autocomplete=&quot;current-password&quot;</code></pre>
          <figcaption class="caption"><span>
            current-password это тип автозаполнения,
            который можно использовать в форме логина
            так как мы вводим уже существующий пароль
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split">
          <div class="screenshot screenshot--current-password third vh "></div>
          <div class="screenshot screenshot--current-password-android-1 third vh "></div>
          <div class="screenshot screenshot--current-password-android-2 third vh "></div>
          <figcaption class="caption"><span>
            iOS предложит заполнить пароль из связок логин-пароль, которые использовались на этом сайте.
            Android предложит заполнить всю форму, а затем выбрать пароль, который вы использовалии ранее.
            Оба покажут логин, с которым пароль использовался.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--current-password-desktop">
          <figcaption class="caption"><span>Думаю все видели то, как это выглядит на десктопе</span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding code-titled">
          <h3>Одноразовый пароль</h3>
          <pre data-code="48"><code class="language-html">inputmode=&quot;numeric&quot;
autocomplete=&quot;one-time-code&quot;</code></pre>
          <figcaption class="caption"><span>
            one-time-code это одноразовый пароль,
            который обычно отправляют в виде SMS,
            по адресу электронной почты или
            генерируют с помощью приложения
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
            <pre data-code="64"><code class="language-js">
`${code} — ваш код
  аутентификации.
  @${domain} #${code}`
            </code></pre>
            <figcaption class="caption"><span>
              Давайте рассмотрим SMS,
              так как это именно тот случай,
              когда мы можем использовать автозаполнение
            </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--sms-input">
          <figcaption class="caption"><span>
            Когда придет SMS,
            появится возможность автозаполнения
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split steps">
          <div class="screenshot screenshot--settings-1 third vh "></div>
          <div class="screenshot screenshot--settings-2 third vh "></div>
          <div class="screenshot screenshot--settings-3 third vh "></div>
          <figcaption class="caption"><span>
            И это особенно полезно,
            так как iOS может делиться
            SMS с MacOS.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--desktop-sms-input">
          <figcaption class="caption"><span>
            В результате на десктопе
            тоже появится подсказка
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split steps">
          <div class="quarter vh screenshot screenshot--sms-1"></div>
          <div class="quarter vh screenshot screenshot--sms-2"></div>
          <div class="quarter vh screenshot screenshot--sms-3"></div>
          <div class="quarter vh screenshot screenshot--sms-4"></div>
          <figcaption class="caption"><span>
            Я дал вам формат для SMS сообщения,
            но все эти варианты, на деле,
            тоже сработают.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>iOS ищет номера рядом со словами:</h3>
            <ol>
              <li>code</li>
              <li>passcode</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            Дело в том, что до появления стандарта
            iOS просто искала номера рядом со словами
            code и passcode.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>Chrome и Android не поддерживают декларативный подход к автозаполнению одноразовых паролей</h3>
          </div>
          <figcaption class="caption"><span>
            Chrome и Android не поддерживают декларативный подход к автозаполнению одноразовых паролей
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="sms-title">Origin-bound one-time codes delivered via SMS</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/sms.svg" alt="QR-Code with link to Origin-bound one-time codes delivered via SMS specification">
            <a aria-label="Read about the SMS format that we should use to make autocomplete work." target="_blank" data-click href="https://wicg.github.io/sms-one-time-codes/">Read about SMS format that we should use to make autocomplete work</a>
          </div>
          <figcaption class="caption"><span>
            Вот стандарт SMS с одноразовым паролем,
            который упоминался ранее.
            Это черновик, но он, с нюансами, поддерживается
            и iOS и Android.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="sms-title">Automatic Strong Passwords and Security Code AutoFill</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/wwdc2018.svg" alt="QR-Code with link to a page with WWDC 2018 video">
          <a aria-label="Watch presentation from Apple WWDC 2018, that show new funcionality of iOS 12" target="_blank" data-click href="https://developer.apple.com/videos/play/wwdc2018/204/">Watch presentation from Apple WWDC 2018, that show new funcionality of iOS 12</a>
          </div>
          <figcaption class="caption"><span>
            Презентация Apple WWDC 2018,
            где представили возможности
            связанные с одноразовыми паролями
            и типом автозаполнения new-password
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2>HTML Living Standard</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/autofill.svg" alt="QR-Code with link to a page, that allow to buy Form Design Patterns">
            <a aria-label="Open Autocomplete section of HTML specification" target="_blank" data-click href="https://html.spec.whatwg.org/multipage/form-control-infrastructure.html#autofill">Read about autocoplere</a>
          </div>
          <figcaption class="caption"><span>
            Остальное вы можете найти в стандарте HTML
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <img class="half book-illustration" src="images/book-design-patterns.png" alt="Form Design Patterns Book">
          <div class="half">
            <img class="book-qrcode" src="images/book-design-patterns.svg" alt="QR-Code with link to places wherer tou may buy book Form Design Patterns">
            <a aria-label="Buy Form Design Patterns" target="_blank" data-click href="https://www.smashingmagazine.com/printed-books/form-design-patterns/">Buy the book</a>
          </div>
          <figcaption class="caption"><span>
            Кроме того, обратите внимание на книгу
            «Шаблоны проэктироваиня форм».
            Думаю с ней вы сможете сделать ваши фромы
            ещё лучше.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred sub-title sub-title-5">
          <div>
            <h2>Откуда дровишки?!</h2>
          </div>
          <figcaption class="caption"><span>
            Хорошо, а откуда браузер берёт все эти
            данные для автозаполнения?
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content illustration illustration--robot-2">
          <h2 class="cloud"><b>Все ваши пароли<br> принадлежат нам! БУП!</b></h2>
          <figcaption class="caption"><span>
            Вы их сами ему даёте
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred advice problems-list">
          <div>
            <h3>Браузер</h3>
            <p>Все современные браузеры позволяют сохранять введенные вами реквизиты.</p>
          </div>
          <figcaption class="caption"><span>
            Все современные браузеры позволяют сохранять введенные вами реквизиты.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--login-autocomplete">
          <figcaption class="caption"><span>
            Я думаю каждый из вас видел вот такое всплывающее окно в chrome или ff.
            Вы можете вызвать его нажав на ключик в адресной строке.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--save-password">
          <figcaption class="caption"><span>
            А если это форма регистрации, то в выпадающем меню можно увидеть
            разные варианты полей, которые подходят в качестве логина.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content illustration illustration--scream">
          <h2 class="cloud"><b>Н-а-з-о-в-и-и-и&nbsp;&nbsp;&nbsp;м-о-о-о-ё&nbsp;&nbsp;&nbsp;и-и-и-м-я!</b><span></span></h2>
          <figcaption class="caption"><span>
            Не забывайте задавать имена полям. Это критически важно.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
            <pre data-code="48"><code class="language-html">&lt;StyledInput
  ref={emailInputRef}
  type=&quot;email&quot;
  onChange={setEmail}
  value={email}
  autoComplete=&quot;email&quot;
  &#x2F;&gt;</code></pre>
          <figcaption class="caption"><span>
            Да, мы разрабатываем react приложения и редко отправляем формы, так, как это
            было задумано.
            Мы не предусматриваем деградации и
            всё это не будет работать без JavaScript.
            Есть соблазно не задавать имя.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot  screenshot--nonames">
          <figcaption class="caption"><span>
            Но если мы не будем задавать имя, то есть шанс увидеть вот это.
            Телефонный номер, вместо логина. Как же так?!
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list ">
          <div>
            <h3>Chrome и Firefox</h3>
            <ol>
              <li>username</li>
              <li>поле, которое находится перед паролем</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            Chrome и FF ищут поле с именем username или autocomplete username.
            Если таких нет — они используют поле, которое в dom идет
            перед паролем.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list ">
          <div>
            <h3>Safari</h3>
            <ol>
              <li>username</li>
              <li>email</li>
              <li>поле, которое находится перед паролем</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            Safari ведет себя немного более осторожно, и после username
            ищет email, а только затем — берет поле перед паролем.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding code-titled">
            <h3>Подскажите браузеру</h3><h3>где имя пользователя</h3>
            <pre data-code="48"><code class="language-html">autocomplete=&quot;username email&quot;</code></pre>
            <figcaption class="caption"><span>
              Имея всё это ввиду, я бы рекомендовал использовать двойное
              значение для поля autocomplete. И задавать имена.
            </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--autofill">
          <figcaption class="caption"><span>
            Все пароли, платежные реквизиты и адреса,
            которые браузер сохранил,
            вы можете найти в его настройках
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--add-list">
          <figcaption class="caption"><span>
            К примеру вы можете управлять
            адресами, которые сохранил браузер.
            Удалять и редактировать.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--add">
          <figcaption class="caption"><span>
            И, более того, добавлять новые.
            И это имеет смысл, так как в будущем сбережет вам
            массу времени при заполнении форм.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list ">
          <div>
            <h3>Синхронизация данных</h3>
            <ul>
              <li>Google Password Manager</li>
              <li>Firefox Lockwise</li>
              <li>iCloud Keychain</li>
            </ul>
          </div>
          <figcaption class="caption"><span>
            Особенно имея ввиду, что эти данные
            синхронизируются между различными устройствами.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--chrome-logotype">
          <figcaption class="caption"><span>
            Google Password Manager
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--chrome-account-1">
          <figcaption class="caption"><span>
            Что бы синхронизировать пароли достаточно залогиниться в учетную запись Google.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--browser-sync">
          <figcaption class="caption"><span>
            Обычно Google стараеться тихонько включить ещё и
            синхронизацию в браузере с той же учетной записью.
            В любом из меню выберите «Manage your Google Account»
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--chrome-account-2">
          <figcaption class="caption"><span>
            А затем — «Password Manager»
          </span></figcaption>
        </figure>
      </li>


      <li class="slide">
        <figure class="content centred screenshot screenshot--chrome-account-3">
          <figcaption class="caption"><span>
            Вы попадете на страницу, где будет список сохраненных реквизитов
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--firefox-logotype">
          <figcaption class="caption"><span>
            Firefox Lockwise
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--firefox-lockwise-1">
          <figcaption class="caption"><span>
            В меню браузера кликните «Logins and Passwords»
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--firefox-lockwise-2">
          <figcaption class="caption"><span>
            И получите список сохраненных реквизитов
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--safari-logotype">
          <figcaption class="caption"><span>
            iCloud Keychain
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--keychain-1">
          <figcaption class="caption"><span>
            Откройте настройки Safari, вкладку Passwords.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--ios-logotype">
          <figcaption class="caption"><span>
            iOS.
            Хорошо, и как телефон синхронизируется с десктопом?
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split steps">
          <div class="screenshot screenshot--password-1 third vh "></div>
          <div class="screenshot screenshot--password-2 third vh "></div>
          <div class="screenshot screenshot--password-3 third vh "></div>
          <figcaption class="caption"><span>
            В iOS можно выбрать источники автозаполнения.
            По умолчанию это iCloud Keychain.
            Но можно выбрать ещё один.
            Это может быть как Google Password Manager
            Так и Lockwise FireFox.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred sub-title sub-title-6">
          <div>
            <h2>Изменение паролей</h2>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--can-change-password">
          <figcaption class="caption"><span>
            Кроме автозаполнения браузер может находить скомпрометированные пароли.
            И, более того, вы можете их изменить прямо оттуда. Ну, почти.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
            <pre data-code="42"><code class="language-js">server.use(
"/.well-known/change-password",
(req, res) => {
  res.redirect("/reset-password");
});</code></pre>
          <figcaption class="caption"><span>
            Кнопка по умолчанию просто откроет домен, с которым связан пароль.
            Мы можем использовать этот url, что бы произошел редирект на страницу
            которая позволит изменить пароль.
            Это может быть просто страница восстановления пароля.
            Код, который вы видите будет работать на экспрессо-образных серверах.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
            <pre data-code="36"><code class="language-nginx">
server {
  rewrite
    ^/.well-known/change-password$
    http://domain.com/reset-password
    redirect;
}
              </code></pre>
          <figcaption class="caption"><span>
            А вот этот — в NGINX.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list ">
          <div>
            <h3>Expected responces</h3>
            <ul>
              <li>302 Found</li>
              <li>303 See Other</li>
              <li>307 Temporary Redirect</li>
            </ul>
          </div>
          <figcaption class="caption"><span>
            URL должен вернуть один из этих трех статусов.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--restore">
          <figcaption class="caption"><span>
            В Safari это работает с 2019 года
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--restore-ff">
          <figcaption class="caption"><span>
            А вот у FireFox это пока только в планах
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">A Well-Known URL for Changing Passwords</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/change-password.svg" alt="QR-Code with link to A Well-Known URL for Changing Passwords specification">
            <a aria-label="Open specification Changing Passwords in the browser" target="_blank" data-click href="https://w3c.github.io/webappsec-change-password-url/">Read specification URL for Changing Passwords from the browser</a>
          </div>
          <figcaption class="caption"><span>
            А вот это — стандарт, который описывает то, как это всё работает.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred sub-title sub-title-7">
          <div>
            <h2>JavaScript</h2>
          </div>
          <figcaption class="caption"><span>
            Ну, думаю вам уже порядком надоел HTML, так что давайте посмотрим, как именно мы можем использовать JavaScript
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred sub-title sub-title-0">
          <div>
            <h2>Credential Management</h2>
          </div>
          <figcaption class="caption"><span>
            Практически всё, о чем мы будем говорить описано в спецификации Credential Management.
            Это особая спецификация. Расширяемая.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="64"><code class="language-js">navigator.credentials</code></pre>
          <figcaption class="caption"><span>
            navigator.credentials это основа всего.
            Этот объект предоставляет нам четыре базовых метода для работы с реквизитами.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="42"><code class="language-js">.create(CredentialCreationOptions)
.store(Credential)
.get(CredentialRequestOptions)
.preventSilentAccess()</code></pre>
          <figcaption class="caption"><span>
            .create позволит создать объект с реквизитами,
            .store сохранить его в браузере,
            .get получить обратно.
            .preventSilentAccess отключает автологин и про это мы поговорим позднее.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list ">
          <div>
            <h3>Credential types:</h3>
            <ul>
              <li>PasswordCredential</li>
              <li>FederatedCredential</li>
              <li>OTPCredential&nbsp;(WebOTP)</li>
              <li>PublicKeyCredential&nbsp;(WebAuthn)</li>
            </ul>
          </div>
          <figcaption class="caption"><span>
            На сегодняшний день есть четыре типа реквизитов.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred advice problems-list">
          <div>
            <h3>PasswordCredential</h3>
            <p>Аутентификация с помощью имени пользователя и пароля.</p>
          </div>
          <figcaption class="caption"><span>
            Самый базовый: пароль и логин.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content video no-padding">
          <video src="video/password-credentials.mp4" />
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred advice problems-list">
          <div>
            <h3>CredentialData: </h3>
            <ol>
              <li>id</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            Когда мы создаём объект с реквизитами, то тип CredentialData будет основой для любого из них.
            Он содержит один единственный атрибут — "id".
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>PasswordCredential: </h3>
            <ol>
              <li>name</li>
              <li>iconURL</li>
              <li>password</li>
              <li>type: "password"</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            PasswordCredential расширяет CredentialData и добавляет в него поля
            name, iconURL, password и type. Который всегда будет иметь значение «password».
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--registration-1">
          <figcaption class="caption"><span>
            У нас есть форма регистрации.
            Как только пользователь нажал кнопку «Зарегистрироваться»…
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="32" data-line="5-9"><code class="language-js">const signUpHandler = async (event) => {
  // Регистрация
  const form = event.currentTarget;
  if (window?.PasswordCredential) {
    const credential = await navigator.
      credentials.create({
        password: form
      });
    navigator.credentials.store(credential);
  }
}</code></pre>
          <figcaption class="caption"><span>
            Мы создаём объект реквизитов прямо из объекта формы
            И сохраняем в браузере.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="26" data-line="5-6"><code class="language-js">const signUpHandler = (event) => {
  // Registration
  const form = event.currentTarget;
  if (window?.PasswordCredential) {
    const credential = new PasswordCredential(form);
    navigator.credentials.store(credential);
  }
}</code></pre>
          <figcaption class="caption"><span>
            Можно использовать конструктор PasswordCredential
            для читабельности
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--registration-2">
          <figcaption class="caption"><span>
            Любопытный факт: если вы используете пароль сгенерированный браузером,
            он просто сохранит реквизиты, без дополнительного подтверждения со
            стороны пользователя
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--registration-3">
          <figcaption class="caption"><span>
            В противном случае, при вызове метода store
            пользователь увидет всплывающее окно
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="36"><code class="language-js">function signUpHandler (event) {
  // Регистрация
  const form = event.currentTarget;
  const data = new FormData(form);

  if (window?.PasswordCredential) {
    // …
  }
}</code></pre>
          <figcaption class="caption"><span>
            Но что если нам нужно больше контроля над
            содержимым объекта реквизитов?
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="36"><code class="language-js">const credential =
  new PasswordCredential({
    id: data.get('email'),
    name: data.get('firstName'),
    password: data.get('password'),
    iconURL: data.get('avatar'),
  });
navigator.credentials.store(credential);</code></pre>
          <figcaption class="caption"><span>
            Мы можем задать данные вручную.
            Это позволит нам, к примеру, задать аватар
            и то, значение какого поля будет использоваться
            в качестве имени пользователя.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split gap nowrap">
          <div class="half vh screenshot screenshot--registration-4"></div>
          <div class="half vh screenshot screenshot--registration-5"></div>
          <figcaption class="caption"><span>
            В результате UI будет выглядеть намного более приятно
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="48"><code class="language-js">navigator.credentials.get()</code></pre>
          <figcaption class="caption"><span>
            Теперь, когда мы сохранили реквизиты,
            как же мы будем их использовать?
            Нужно запросить их у браузера используя метод get.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>CredentialRequestOptions: </h3>
            <ol>
              <li><mark>mediation</mark>
                <ul>
                  <li>silent</li>
                  <li>optional</li>
                  <li>required</li>
                </ul>
              </li>
              <li>signal</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            Мы должны передать ему в качестве аргумента
            объект CredentialRequestOptions.<br>
            Для понимания того как этот процесс работает критично понятие медиации.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>CredentialRequestOptions: </h3>
            <ol>
              <li>mediation
                <ul>
                  <li><mark>silent</mark></li>
                  <li>optional</li>
                  <li>required</li>
                </ul>
              </li>
              <li>signal</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            silent значит, что бразуер должен вернуть реквизиты без необходимости
            каких либо действий со стороны пользователя, если возможно,
            и null в противном случае.<br>
            Браузер может вернуть реквизиты без подтверждения пользователя, если:<br>
            1. У браузера есть реквизиты для этого домена<br>
            2. У браузера только один набор реквизитов для этого домена<br>
            3. Не был вызван метод Prevent Silent Access
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>CredentialRequestOptions: </h3>
            <ol>
              <li>mediation
                <ul>
                  <li><mark>silent</mark></li>
                  <li>optional</li>
                  <li>required</li>
                </ul>
              </li>
              <li>signal</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            1. У браузера есть реквизиты для этого домена<br>
            2. У браузера только один набор реквизитов для этого домена<br>
            3. Не был вызван метод Prevent Silent Access
          </span></figcaption>
        </figure>
      </li>


      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>CredentialRequestOptions: </h3>
            <ol>
              <li>mediation
                <ul>
                  <li>silent</li>
                  <li><mark>optional</mark></li>
                  <li>required</li>
                </ul>
              </li>
              <li>signal</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            optional значит, что бразуер должен вернуть реквизиты без необходимости
            каких либо действий со стороны пользователя, если возможно,
            и показать пользователю всплывающее окно, с запросом разрешения
            или выбором набора реквизитов, если нет.
            Вернет null, если реквизитов для домена нет или пользователь закрыл окно.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>CredentialRequestOptions: </h3>
            <ol>
              <li>mediation
                <ul>
                  <li>silent</li>
                  <li>optional</li>
                  <li><mark>required</mark></li>
                </ul>
              </li>
              <li>signal</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            required значит, что бразуер должен всегда запрашивать
            разрешения пользователя.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>CredentialRequestOptions: </h3>
            <ol>
              <li>mediation
                <ul>
                  <li>silent</li>
                  <li>optional</li>
                  <li>required</li>
                </ul>
              </li>
              <li><mark>signal</mark></li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            signal это экземпляр AbortSignal.
            Он позволяет вам программно прервать запрос.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>PasswordCredential: </h3>
            <ol>
              <li>password: true  </li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            PasswordCredential расширяет CredentialRequestOptions
            и добавляет всего одно поле: password, значение котороего — true.
            Это значит, что браузер вернет только реквизиты типа password.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="28"><code class="language-js">(async () => {
  // Запускаем только для анонимов
  if (window?.PasswordCredential) {
    const credential =
      await navigator.credentials.get({
        password: true,
        mediation: 'silent',
      });
    if (credential === null) return;
    // Аутентификация
    // Обработка ошибок
}})();</code></pre>
          <figcaption class="caption"><span>
            Что бы сделать тихий логин, как в Twitter,
            нужно на каждой странице для анонимов
            разместить вот такой виджет.
            Он запрашивает реквизиты с mediation silent.
            Если вернуло — отлично, авторизуем.
            Нет — ну и ладно.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>PasswordCredentialData: </h3>
            <ol>
              <li>id</li>
              <li>name</li>
              <li>iconURL</li>
              <li>password</li>
              <li>type: "password"</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            Внутри объекта реквизитов ровно то,
            что мы туда положили
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--signedin">
          <figcaption class="caption"><span>
            В случае успешной аутентификации появится всплывающее окно
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="32" data-line="5"><code class="language-js">if (window?.PasswordCredential) {
  const credential =
    await navigator.credentials.get({
      password: true,
      mediation: 'optional',
    });
  if (credential === null) return;
  // Аутентификация
  // Обработка ошибок
}</code></pre>
          <figcaption class="caption"><span>
            Когда пользователь нажал в меню кнопку логин
            мы можем запросить реквизиты с mediation: 'optional'.
            Пользователь сам выразил желание войти в учетную
            запись и всплывающее окно будет реакцией на его действия.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--signedin-selector-1">
          <figcaption class="caption"><span>
            Если он выберет учетную запись или даст разрешение на аутентификацию — отлично.
            Если нет — можно открыть обычную страницу логина.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="42"><code class="language-js">if (navigator?.credentials
    .preventSilentAccess) {
  await navigator?.credentials
    .preventSilentAccess(id);
}</code></pre>
          <figcaption class="caption"><span>
            После того как пользователь нажал логаут, нужно вызвать
            метод preventSilentAccess. Иначе при обновлении страницы его
            залогинит обартно и это вряд ли будет желаемое поведение.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split steps steps-two-direction">
          <div class="half vh screenshot screenshot--signedin-selector-2"></div>
          <div class="half vh screenshot screenshot--signedin-cross"></div>
          <figcaption class="caption"><span>
            Но самым важным для нас является кросс-платформенный логин.
            С его помощью мы можем залогиниться на десктопе, и автоматически
            потом логиниться на мобильном устройстве.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred illustration illustration--demotime">
          <figcaption class="caption"><span>
            Давайте посмотрим как это работает!
            У меня нет телефона на Android, так что я использую эмулятор.
            Я запустил его предварительно и вошел в свою учетную запись google.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content video no-padding">
          <video src="video/demo.mov" />
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>FederatedCredentialData:</h3>
            <div class="split">
              <ul class="third">
                <li>id</li>
                <li>name</li>
                <li>iconURL</li>
              </ul>
              <ul class="two-thirds">
                <li>provider</li>
                <li>protocol</li>
                <li>type: "federated"</li>
              </ul>
            </div>
          </div>
          <figcaption class="caption"><span>
            Вторым типом реквизитов является FederatedCredentialData.
            То же что и авторизация с помощью логина и пароля,
            но используя социальный логин.
            Я не буду останавливаться на нем подробно из за ограниченых временных рамок.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--credentials-support-2021">
          <figcaption class="caption"><span>
            Поддерживается API в Blink.
            То-есть, в большинстве браузеров.
            Так же указана поддержка iOS, но это не совсем правда.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--credentials-support-safari-2021">
          <figcaption class="caption"><span>
            Apple скомно заявляет о поддержке, но на самом деле, это касается исключительно PublicKeyCredential.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--no">
          <figcaption class="caption"><span>
            Password и FederatedCredential похоже ждать не приходится.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--credentials-support-ff-2021">
          <figcaption class="caption"><span>
            Mozilla не считает это API приоритетным для себя, так что особой надежды увидеть его поддержку в скором времени нет.
          </span></figcaption>
        </figure>
      </li>


      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">The Credential Management API (Web Fundamentals)</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/web-fun-credential.svg" alt="QR-Code with link to an Web Fundamentals article about Credential Management API usage">
            <a aria-label="Open an aricle about Credential Management" target="_blank" data-click href="https://developers.google.com/web/fundamentals/security/credential-management">Read how to use Credential Management in practice</a>
          </div>
          <figcaption class="caption"><span>
            Почитайте отличную статью о Credential Management от Google.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">Credential Management</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/credentials.svg" alt="QR-Code со ссылкой на спецификацию Credential Management">
            <a aria-label="Open Credential Management specification" target="_blank" data-click href="https://w3c.github.io/webappsec-credential-management/">Read Credential Management specification</a>
          </div>
          <figcaption class="caption"><span>
            И, конечно, спецификацию. Последние правки в которую были внесены не далее, как 16 ноября.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred sub-title sub-title-1">
          <div>
            <h2>Web&nbsp;OTP&nbsp;API</h2>
          </div>
          <figcaption class="caption"><span>
            Помните, как мы в первой части делали автозаполнение
            OTP в Safari? Я говорил, что Android не поддерживает
            декларативное заполнение.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>OTPCredential</h3>
          </div>
          <figcaption class="caption"><span>
            Вместо этого он поддерживает
            тип реквизитов OTPCredential и позволяет делать то же
            самое, только ещё лучше.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="38"><code class="language-js">if ('OTPCredential' in window) {
  const { code, type } = await
    navigator.credentials.get({
      otp: { transport: ['sms'] }
    });

  if (!code) return;
  // Аутентификация
}</code></pre>
          <figcaption class="caption"><span>
            Запрашиваем реквизиты с типом otp и транспортом sms.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content split">
          <div class="half vh screenshot screenshot--emulator-send"></div>
          <div class="half vh screenshot screenshot--emulator-recieve"></div>
          <figcaption class="caption"><span>
            Браузер запросит разрешение у пользователя прочесть SMS.
            И затем вернет код.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>Требования к SMS: </h3>
            <ol>
              <li>
                Сообщение должно содержать 4-10 знакочисловых символов,
                Как минимум один из которых — число
              </li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            В сообщении должно быть 4-10 символьные знакочисловой код.
            Как минимум один из этих символов должен быть числом.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>Требования к SMS: </h3>
            <ol start="2">
              <li>Сообщение должно быть отправлено с номера, которого нет в контактной книге пользователя.</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            Таким образом спецификация гарантирует, что из JavaScript не удастся получить доступ к приватной переписке.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">Verify phone numbers on the web with the Web OTP API (Web Fundamentals)</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/webotp.svg" alt="QR-Code with link to an article on Web Fundamentals about SMS OTP autocomplete under Chrome for Android with Web OTP API">
            <a aria-label="Read about about SMS OTP autocomplete under Chrome for Android with Web OTP API" target="_blank" data-click href="https://web.dev/web-otp/">Read about SMS OTP autocomplete under Chrome for Android with Web OTP API</a>
          </div>
          <figcaption class="caption"><span>
            Отличная тематическая статья на Web Fundamentals
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="sms-title">Origin-bound one-time codes delivered via SMS</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/sms.svg" alt="QR-Code with link to a specification on Origin-bound one-time codes delivered via SMS">
            <a aria-label="Read about sms format in the origin-bound one-time codes delivered via SMS specification" target="_blank" data-click href="https://wicg.github.io/sms-one-time-codes/">Read about sms format in the origin-bound one-time codes delivered via SMS specification</a>
          </div>
          <figcaption class="caption"><span>
            Спецификация формата SMS
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2>Web OTP API</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/otp-api.svg" alt="QR-Code with link to Web OTP API specification">
            <a aria-label="Read Web OTP API specification, which we must use to aquire SMS from script" target="_blank" data-click href="https://wicg.github.io/web-otp/">Read how with Web OTP API, we can aquire SMS from script</a>
          </div>
          <figcaption class="caption"><span>
            Спецификация касающаяся одноразовых паролей
          </span></figcaption>
        </figure>
      </li>
<!--
      <li class="slide">
        <figure class="content centred sub-title sub-title-3">
          <div>
            <h2>Login Status API</h2>
          </div>
          <figcaption class="caption"><span>
            Есть интересный черновик, который описывает возможность сказать браузеру залогинен ли пользователь.
            Это может быть полезно как для изменения поведения браузера, так и для улучшения механизма
            хранения, инвалидации и синхронизации токенов.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="48"><code class="language-js">navigator.setLoggedIn
navigator.setLoggedOut
navigator.isLoggedIn</code></pre>
          <figcaption class="caption"><span>
            Методы, позволяющие проинфоровать браузер про логин, логаут и проверить состояние.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--stub-0">
          <figcaption class="caption"><span>
            АPI уже есть в за флагом в Safari на MaxOSX и iOS.
            Но они не работают.
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--stub"></figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--stub-ru"></figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--stub-2"></figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--stub-2-ru"></figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="48"><code class="language-js">navigator.recordLogin
navigator.recordFederatedLogin
navigator.recordLogout
navigator.checkLoginState</code></pre>
          <figcaption class="caption"><span>
            За год API переименовали и немного изменили методы, кажется немного приблизили к Credential Management API.
            Появился FederatedLogin.
          </span></figcaption>
        </figure>
      </li>


      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="isloggedin-title">Login<br>Status API</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/isloggedin.svg" alt="QR-Code with link to isLoggedIn Web API specification">
            <a aria-label="Read isLoggedIn Web API specification" target="_blank" data-click href="https://github.com/privacycg/is-logged-in">Read how to notify browser that user is authenticated</a>
          </div>
          <figcaption class="caption"><span>
            Посматривайте на черновик.
            Я думаю может получиться что то интересное.
          </span></figcaption>
        </figure>
      </li> -->

      <li class="slide">
        <figure class="content centred sub-title sub-title-4">
          <div>
            <h2>WebAuthn</h2>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>PublicKeyCredential</h3>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>Кросс-платформенные</h3>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred illustration illustration--key"></figure>
      </li>

      <li class="slide">
        <figure class="content centred illustration illustration--phones"></figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list">
          <div>
            <h3>Платформенные</h3>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred illustration illustration--plaform"></figure>
      </li>

      <li class="slide">
        <figure class="content centred illustration illustration--macbook-touch-id"></figure>
      </li>

      <li class="slide">
        <figure class="content centred illustration illustration--plaform-android">
          <figcaption class="caption"><span>
            Face unlock
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred illustration illustration--plaform-windows"></figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list problems-list--small">
          <div>
            <h3>Платформенный ключ:</h3>
            <ol>
              <li>Пользователь регистрируется</li>
              <li>Запрашиваем разрешения использовать ключ</li>
              <li>Если пользователь согласен: регистрируем ключ и храним id в браузере</li>
              <li>При попытке аутентификации — используем ключ</li>
            </ol>
          </div>
          <figcaption class="caption"><span>
            Если мы говорим об упрощении аутентификации, то нас интересует именно платформенный ключ
          </span></figcaption>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list problems-list--small">
          <div>
            <h3>Регистраця ключа: </h3>
            <ol>
              <li>Передаем серверу данные о платформе и пользователе, получаем в ответ проверочный объект</li>
              <li>Передаём его платформе и получаем созданные на его базе PublicKeyCredential</li>
              <li>Отправляем PublicKeyCredential на сервер для проверки</li>
              <li>Получаем Сredential Id, который можем сохранить на клиете</li>
            </ol>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="38"><code class="language-js">if ('PublicKeyCredential' in window) {
  /* … */
}</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="28"><code class="language-js">const hasPlatformAuthenticator
  = await PublicKeyCredential
  ?.isUserVerifyingPlatformAuthenticatorAvailable();</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="51"><code class="language-js">PublicKeyCredential
  .is
    User
    Verifying
    Platform
    Authenticator
    Available();</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="26"><code class="language-js">const data = new FormData(form);
const response = await fetch(
  '/challenge/register',
  {
    method: 'POST',
    body: JSON.stringify({
      name: data.get('name'),
      email: data.get('email'),
      'new-password': data.get('new-password'),
    }),
  });

const options = await response.json();</code></pre>
        </figure>
      </li>

      <!-- <li class="slide">
        <figure class="content centred screenshot screenshot--libs"></figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="64"><code class="language-bash">npm i -S fido2-library</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="30"><code class="language-js">const { Fido2Lib } = require("fido2-library");

const f2l = new Fido2Lib({
  rpId: HOST,
  attestation: "none",
  authenticatorUserVerification: "discouraged",
  authenticatorAttachment: "platform",
});</code></pre>
        </figure>
      </li> -->

      <!-- <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="32"><code class="language-js">const f2l = new Fido2Lib({
  rpId: HOST,
  attestation: "none",
  authenticatorAttachment: "cross-platform",
  authenticatorUserVerification: "required",
});</code></pre>
        </figure>
      </li> -->
<!--
      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="42"><code class="language-js">fastify.post('/challenge/register/',
  async (request, reply) => {
    const { email, name }
      = JSON.parse(request.body);
    // User registration
    // …
});</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="32"><code class="language-js">const options = await f2l.attestationOptions();</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding split">
          <pre data-code="20" class="half vh"><code class="language-json">{
  🔴 rp: {
    🔴 name
    🟢 id // origin
    🟢 icon
  },
  🔴 user: {
    🔴 id,❗️
    🔴 displayName,
    🔴 name,
    🟢 icon,
  },
  🔴 challenge,❗
  🔴 pubKeyCredParams,</code>
          </pre>
          <pre data-code="20" class="half vh"><code class="language-json">  🟢 timeout,
  🟢 excludeCredentials,
  🟢 authenticatorSelection: {
     authenticatorAttachment: [
       "platform",
       "cross-platform"
     ],
     requireResidentKey,
     userVerification: [
       "required",
       "preferred",
       "discouraged"
     ]
  },
  🟢 attestation,
  🟢 extensions,
}</code>
          </pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="22"><code class="language-json">{
  "rp": {
    "name": "Anonymous Service",
    "id": "nice-cheetah-30.loca.lt" },
  "user": {
    "id": [ArrayBuffer],
    "name": "thesilentimp@gmail.com",
    "displayName": "Anton Nemtsev" },
  "challenge": [ArrayBuffer],
  "pubKeyCredParams": [
    { "type": "public-key", "alg": -7 },
    { "type": "public-key", "alg": -257 }
  ],
  "timeout": 60000,
  "attestation": "none",
  "authenticatorSelection": {
    "userVerification": "discouraged" }}</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="41"><code class="language-js">const toBase64 = (buffer) => {
  const binaryString =
    String.fromCharCode.apply(
      null,
      new Uint8Array(buffer));
  return btoa(binaryString);
}</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="41"><code class="language-js">const toBuffer = (base64) => {
  const ASCIIString = atob(base64);
  return Uint8Array.from(
    ASCIIString,
    c => c.charCodeAt(0)
  ).buffer;
}</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="28"><code class="language-js">const challengeString = toBuffer(options.challenge);
request.session.set('challenge', challengeString);</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="36"><code class="language-js">options.challenge = challengeString;

options.user = {
  id: nanoid(), // Hash of id from DB
  name: email,
  displayName: name,
};</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="48"><code class="language-js">reply
  .type('application/json')
  .code(200)
  .send(options);</code></pre>
        </figure>
      </li> -->

      <!-- options.user.id = toBuffer(options.user.id);
      options.challenge = toBuffer(options.challenge);
       -->

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="28"><code class="language-js">const credential = await navigator.credentials
  .create({
    publicKey: options
  });</code></pre>
        </figure>
      </li>

      <!-- <li class="slide">
        <figure class="content centred screenshot screenshot--platform-register-1"></figure>
      </li> -->

      <!-- <li class="slide">
        <figure class="content centred screenshot screenshot--platform-register-2"></figure>
      </li> -->

      <!-- <li class="slide">
        <figure class="content centred screenshot screenshot--chrome-key-list-1"></figure>
      </li> -->

      <!-- <li class="slide">
        <figure class="content centred screenshot screenshot--chrome-key-flag"></figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--chrome-key-list-2"></figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--chrome-key-list-3"></figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--cable"></figure>
      </li> -->

      <li class="slide">
        <figure class="content centred spec split steps">
          <figure class="half vh screenshot screenshot--safari-face-id-1"></figure>
          <figure class="half vh screenshot screenshot--safari-face-id-2"></figure>
        </figure>
      </li>

      <!-- <li class="slide">
        <figure class="content centred spec split steps">
          <figure class="third vh screenshot screenshot--android-key-1"></figure>
          <figure class="third vh screenshot screenshot--android-key-2"></figure>
          <figure class="third vh screenshot screenshot--android-key-3"></figure>
        </figure>
      </li> -->

      <li class="slide">
        <figure class="content centred no-padding">
          <pre data-code="38"><code class="language-js">{
  id: "nZOlyXf57erlQbudIIuOrQEdRUs",
  rawId: [ArrayBuffer],
  response: {
    attestationObject: [ArrayBuffer],
    clientDataJSON: [ArrayBuffer],
  },
  type: "public-key",
}</code></pre>
        </figure>
      </li>

      <!-- <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="35"><code class="language-js">const {
  id,
  type,
  response: {
    clientDataJSON: clientDataBuffer,
    attestationObject: attestationBuffer,
}} = credential;</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="26"><code class="language-js">const clientDataJSON = toBase64(clientDataBuffer);
const attestationObject = toBase64(attestationBuffer);</code></pre>
        </figure>
      </li> -->

      <!-- <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="42"><code class="language-js">const attestation = {
  id,
  type,
  response: {
    clientDataJSON,
    attestationObject,
  },
};</code></pre>
        </figure>
      </li> -->

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="34"><code class="language-js">const body = JSON.stringify(attestation);

const response = await fetch(`/register`, {
  method: "POST",
  body,
});</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="28"><code class="language-js">const { credentialId } = await response.json();
localStorage.setItem('credentialId', credentialId);</code></pre>
        </figure>
      </li>
<!--
      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="32"><code class="language-js">fastify.post(
 'register/',
  async (request, reply) => {
    const { session } = request;
    const challenge = session.get('challenge');

    // …
});</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="46"><code class="language-js">const assertionExpectations = {
  challenge,
  origin: `https://${HOST}`,
  factor: "either"
};</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="20"><code class="language-js">const clientAttestationResponse = JSON.parse(request.body);
clientAttestationResponse.rawId = toBuffer(clientAttestationResponse.Id);</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="32"><code class="language-js">const result = await f2l.attestationResult(
  clientAttestationResponse,
  assertionExpectations
);

const { authnrData } = result;</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="24"><code class="language-js">const counter = authnrData.get('counter');
const credentialId = authnrData.get('credId');
const publicKey = authnrData.get('credentialPublicKeyPem');

const { session } = request;
session.set('counter', counter);
session.set('credentialId', credentialId);
session.set('publicKey', publicKey);</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="29"><code class="language-js">const credentialIdBuffer = authnrData.get('credId');
const credentialId = toBase64(credentialIdBuffer);

reply
  .type('application/json')
  .code(200)
  .send({credentialId});</code></pre>
        </figure>
      </li> -->

      <li class="slide">
        <figure class="content centred problems-list problems-list--small">
          <div>
            <h3>Логин с помощью платформенного ключа:</h3>
            <ol>
              <li>Проверяем есть ли сохраненный Сredential Id</li>
              <li>Запрашиваем на сервере проверочный объект</li>
            </ol>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred problems-list problems-list--small">
          <div>
            <h3>Логин с помощью платформенного ключа:</h3>
            <ol start="3">
              <li>Передаём его платформе и получаем PublicKeyCredential</li>
              <li>Отправляем PublicKeyCredential на сервер для проверки</li>
            </ol>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="26"><code class="language-js">const credentialId = localStorage.getItem('credentialId');
if (credentialId === null) return;</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="38"><code class="language-js">const response = await fetch(
  '/challenge/login',
  { method: 'POST' }
);

const options = await response.json();</code></pre>
        </figure>
      </li>
<!--
      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="48"><code class="language-js">fastify.post(
  '/challenge/login',
  async (request, reply) => {

  // …
});</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="32"><code class="language-js">const options = await f2l.assertionOptions();</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="45"><code class="language-js">{
  challenge: [ArrayBuffer],
  timeout: 60000,
  rpId: HOST,
  userVerification: 'discouraged'
}</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="32"><code class="language-js">const { session } = request;
const challenge = toBuffer(option.challenge);
session.set('challenge', challenge);
option.challenge = challenge;
reply
  .type('application/json')
  .code(200)
  .send(option);</code></pre>
        </figure>
      </li> -->

      <!-- options.challenge = toBuffer(challenge); -->

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="26"><code class="language-js">const { challenge } = options;
const credentialId = localStorage.getItem('credentialId');
options.allowCredentials = [{
  type: "public-key",
  id: toBuffer(credentialId),
}];</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="28"><code class="language-js">const credential = await navigator.credentials.get({
  publicKey: options
});</code></pre>
        </figure>
      </li>

      <!-- <li class="slide">
        <figure class="content centred screenshot screenshot--login"></figure>
      </li> -->

      <li class="slide">
        <figure class="content centred screenshot screenshot--safari-face-id-2"></figure>
      </li>

      <!-- <li class="slide">
        <figure class="content centred spec split steps">
          <figure class="half vh screenshot screenshot--safari-face-id-1"></figure>
          <figure class="half vh screenshot screenshot--safari-face-id-2"></figure>
        </figure>
      </li> -->

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="32"><code class="language-js">{
  id: "FtjWT4fIT9…zs2LRxuG5fBRj9bA",
  rawId: [ArrayBuffer],
  response: {
    authenticatorData: [ArrayBuffer],
    clientDataJSON: [ArrayBuffer],
    signature: [ArrayBuffer],
    userHandle: null,
  },
  type: "public-key",
}</code></pre>
        </figure>
      </li>
<!--
      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="28"><code class="language-js">const {
  id,
  type,
  response: {
    authenticatorData: authenticatorDataBuffer,
    clientDataJSON: clientDataJSONBuffer,
    signature: signatureBuffer,
    userHandle,
  }
} = credential;</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="24"><code class="language-js">const authenticatorData = toBase64(authenticatorDataBuffer);
const clientDataJSON = toBase64(clientDataJSONBuffer);
const signature = toBase64(signatureBuffer);</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="36"><code class="language-js">const authenticator = {
  id,
  type,
  response: {
    authenticatorData,
    clientDataJSON,
    signature,
    userHandle,
  },
};</code></pre>
        </figure>
      </li> -->

      <li class="slide">
        <figure class="content centred no-padding client">
          <pre data-code="34"><code class="language-js">const body = JSON.stringify(authenticator);
await fetch('/login', {
  method: "POST",
  body
});</code></pre>
        </figure>
      </li>
<!--
      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="34"><code class="language-js">const { session } = request;
const challenge = session.get('challenge');
const publicKey = session.get('publicKey');
const prevCounter = session.get('counter');</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="40"><code class="language-js">const assertionExpectations = {
  challenge,
  origin: `https://${HOST}`,
  factor: "either",
  publicKey,
  prevCounter,
  userHandle,
};</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="20"><code class="language-js">const clientAssertionResponse = JSON.parse(request.body);
clientAssertionResponse.rawId = toBuffer(clientAssertionResponse.id);
await f2l.assertionResult(clientAssertionResponse, assertionExpectations);</code></pre>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred no-padding server">
          <pre data-code="80"><code class="language-js">reply.code(204);</code></pre>
        </figure>
      </li> -->

      <li class="slide">
        <figure class="content centred screenshot screenshot--caniuse-webauth"></figure>
      </li>

      <!-- <li class="slide">
        <figure class="content centred sub-title sub-title-3">
          <div>
            <h2>Debug WebAuthn</h2>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--webauth-debug-1"></figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--webauth-debug-2"></figure>
      </li>

      <li class="slide">
        <figure class="content centred screenshot screenshot--webauth-debug-3"></figure>
      </li> -->


      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">WebAuthn demo application</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/webauthn-server.svg" alt="QR-Code with link to demo repository">
            <a aria-label="Open application repository" target="_blank" data-click href="https://github.com/SilentImp/webauthn-server">Open application repository</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">Emulate Authenticators and Debug WebAuthn in Chrome DevTools</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/debug.svg" alt="QR-Code with link to the article on WebAuthn debug in Chrome">
            <a aria-label="Read an article on WebAuthn debug in Chrome" target="_blank" data-click href="https://developers.google.com/web/tools/chrome-devtools/webauthn">Read an article on WebAuthn debug in Chrome</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">A curated list of awesome WebAuthn/FIDO2 resources</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/links.svg" alt="QR-Code with collection of the links to the WebAuthn-related resources">
            <a aria-label="Open the collection of the links to the WebAuthn-related resources" target="_blank" data-click href="https://github.com/herrjemand/awesome-webauthn">Open the collection of the links to the WebAuthn-related resources</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2>WebAuthn guide</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/guide.svg" alt="QR-Code with link to the site with WebAuthn tutorial and demo">
            <a aria-label="Open site with WebAuthn tutorial and demo" target="_blank" data-click href="https://webauthn.guide/">Open site with WebAuthn tutorial and demo</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">Introduction to WebAuthn API (Yuriy Ackermann)</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/intro.svg" alt="QR-Code to the series of articles with WebAuthn API introduction, written by Yury Akkerman">
            <a aria-label="Read a series of articles with WebAuthn API introduction, written by Yury Akkerman" target="_blank" data-click href="https://medium.com/@herrjemand/introduction-to-webauthn-api-5fd1fb46c285">Read a series of articles with WebAuthn API introduction, written by Yury Akkerman</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">Meet Face ID and Touch ID for the web (WWDC 2020 video)</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/apple-webauthn.svg" alt="QR-Code to WWDC 2020 Face ID and Touch ID presentation for Safari 14.">
          <a aria-label="Watch WWDC 2020 Face ID and Touch ID presentation for Safari 14." target="_blank" data-click href="https://developer.apple.com/videos/play/wwdc2020/10670/">Watch WWDC 2020 Face ID and Touch ID presentation in Safari 14.</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">Meet Face ID and Touch ID for the web (Webkit blog post)</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/apple-webauthn.svg" alt="QR-Code with link to Webkit blog post on Face ID and Touch ID for the web">
          <a aria-label="Read Webkit blog post on Face ID and Touch ID for the web" target="_blank" data-click href="https://developer.apple.com/videos/play/wwdc2020/10670/">Read Webkit blog post on Face ID and Touch ID for the web.</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">Web Authentication and Windows Hello</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/ms-webauthn.svg" alt="QR-Code with link to the Microsoft article with WebAuthn introduction">
            <a aria-label="Read Microsoft article with WebAuthn introduction" target="_blank" data-click href="https://docs.microsoft.com/en-us/microsoft-edge/dev-guide/windows-integration/web-authentication">Read Microsoft article with WebAuthn introduction</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">Enabling Strong Authentication with WebAuthn</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/google-webauthn.svg" alt="QR-Code with link to the Google article with WebAuthn introduction">
          <a aria-label="Read Google article with WebAuthn introduction" target="_blank" data-click href="https://developers.google.com/web/updates/2018/05/webauthn">Read Google article with WebAuthn introduction</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2>Fido Alliance</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/fido.svg" alt="QR-Code with link to Fido Alliance">
          <a aria-label="Open Fido Alliance site" target="_blank" data-click href="https://fidoalliance.org/">Open Fido Alliance site</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2>Verifiable Credentials Data Model</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/veri.svg" alt="QR-Code with link to the Verifiable Credentials Data Model standard">
            <a aria-label="Open Verifiable Credentials Data Model standard" target="_blank" data-click href="https://w3c.github.io/vc-data-model/">Open standard</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2>Yubico (YubiKey)</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/yubico.svg" alt="QR-Code with link to the Yubico web-site">
            <a aria-label="Open Yubico web-site" target="_blank" data-click href="https://www.yubico.com/">Open Yubico web-site</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content centred spec split">
          <div class="half">
            <h2 class="password-title">Web Authentication: An API for accessing Public Key Credentials</h2>
          </div>
          <div class="half">
            <img class="book-qrcode" src="images/webauthn.svg" alt="QR-Code with link to the WebAuthn specification">
            <a aria-label="Open WebAuthn specification" target="_blank" data-click href="https://w3c.github.io/webauthn/">Read WebAuthn specification</a>
          </div>
        </figure>
      </li>

      <li class="slide">
        <figure class="content contacts centred spec split">
          <div class="half">
            <h2>Contacts</h2>
            <h3>Anton Nemtsev</h3>
            <!-- <img class="company" src="images/werkspot.svg" alt="Werkspot" /> -->
            <ul>
              <li><a
                class="link"
                target="_blank"
                aria-label="Portfolio: silentimp.info"
                href="https://silentimp.info/"
                data-click
              >https://silentimp.info/</a></li>
              <li><a
                class="link"
                target="_blank"
                aria-label="Twitter: @silentimp"
                href="https://twitter.com/@silentimp"
                data-click
              >@silentimp</a></li>
              <li><a
                class="link"
                target="_blank"
                aria-label="Email: thesilentimp@gmail.com"
                href="mailto:thesilentimp@gmail.com"
                data-click
              >thesilentimp@gmail.com</a></li>
            </ul>
          </div>
          <div class="half no-padding">
            <img class="qrcode" src="images/git.svg" alt="QRCODE with presentation link">
          </div>
          <footer>
            <a
              aria-label="Slides"
              target="_blank"
              class="link"
              href="https://github.com/SilentImp/webauthn-ru"
              data-click
            >https://github.com/SilentImp/webauthn-ru</a>
          </footer>
        </figure>
      </li>

    </ol>
  </main>

  <progress id="progress"></progress>

  <form class="slide-selector">
    <input
      aria-label="Page number"
      autocomplete="off"
      maxlength="3"
      size="3"
      pattern="[0-9]{1,3}"
      placeholder="1"
      type="number"
      inputmode="numeric"
      name="page">
  </form>

  <timer-countdown duration="30" relative></timer-countdown>

  <script type="module" src="javascript/components/index.mjs"></script>
  <script type="module" src="javascript/SlideController.mjs"></script>
  <script src="javascript/prism.js"></script>
</body>
</html>
